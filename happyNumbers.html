<script>
"use strict";

function loop1000()
{
	var array;
	var unhappyNums = new Array();
	for(var i = 1; i < 1000; i++) 
	{
		var array = splitNumber(i, unhappyNums, i);
	}
	//console.log(array);
}

function splitNumber(num, unhappyNums, currentNumber)
{
	var number = num.toString();
	var arrayOfDigits = number.split("");
	//var arrayOfNums = new Array(arrayOfDigits.length);
	
	//console.log(arrayOfDigits);
	//console.log(arrayOfDigits[0]);
	squareNumber(arrayOfDigits, unhappyNums, currentNumber);
}
	
function squareNumber(arrayOfDigits, unhappyNums, currentNumber)
{
	//console.log("first " + arrayOfDigits);
	for(var i = 0; i < arrayOfDigits.length; i++) 
	{
		arrayOfDigits[i] = arrayOfDigits[i] * arrayOfDigits[i];
	}

	//console.log(arrayOfDigits);
	addNumbers(arrayOfDigits, unhappyNums, currentNumber);
}

function addNumbers(arrayOfDigits, unhappyNums, currentNumber)
{
	var number = 0;
	for(var i = 0; i < arrayOfDigits.length; i++) 
	{
		number = number + arrayOfDigits[i];
	}
	//console.log(number);
	//var number = num1 + num2;
	
	checkIfOneOrRepeated(number, unhappyNums, currentNumber);
}

function checkIfOneOrRepeated(number, unhappyNums, currentNumber)
{
	//console.log(number);
	//console.log(unhappyNums);
	var happyNumber = 1;
	//console.log(number);
	//console.log(alreadyCheckedNum(number, unhappyNums, currentNumber));
	if(number == 1)
	{
		happyNumber = 1;
		
		console.log(currentNumber);
	}else if(alreadyCheckedNum(number, unhappyNums, currentNumber))
	{
		//console.log("made it");
		//console.log(number);
		/*if(happyNumber != 0)
		{
			
			
			splitNumber(number, currentNumber);	
		}*/
		//console.log(arrayOfNums);
		
		
		//console.log(arrayOfNums);	
	}else
	{
		//console.log(unhappyNums);
		//unhappyNums.push(number);
		splitNumber(number, unhappyNums, currentNumber);	
	}
	/*if(currentNumber >= 999)
	{
		//printNumbers(arrayOfNums);
	}*/
	//printNumbers(arrayOfNums);
	//arrayOfNums;
}

function alreadyCheckedNum(number, unhappyNums, currentNumber)
{
	for(var i = 0; i < unhappyNums.length; i++) 
	{
		//console.log("number " + number);
		
		if(number == unhappyNums[i])
		{
			console.log("made it");
			return true;
		}
	}
	unhappyNums.push(number);
	console.log("unhappyNums " + unhappyNums);
	return false;
}

function printNumbers(arrayOfNums)
{
	console.log(arrayOfNums);
}

loop1000();

</script>
